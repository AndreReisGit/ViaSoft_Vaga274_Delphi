CREATE TABLE OWNER_TESTE.ITEM
(
  IDITEM INTEGER NOT NULL,
  DESCITEM VARCHAR(100) 
);
COMMENT ON COLUMN OWNER_TESTE.ITEM.IDITEM IS 'ID Item';
COMMENT ON COLUMN OWNER_TESTE.ITEM.DESCITEM IS 'Descrição';
CREATE PUBLIC SYNONYM ITEM for OWNER_TESTE.ITEM;


CREATE TABLE OWNER_TESTE.PEDIDOCAB
(
  IDPEDIDOCAB INTEGER NOT NULL,
  DTEMISSAO DATE DEFAULT SYSDATE,
  NUMERO INTEGER,
  CLIENTE VARCHAR2(100)
);
COMMENT ON COLUMN OWNER_TESTE.PEDIDOCAB.IDPEDIDOCAB IS 'Nro Pedido';
COMMENT ON COLUMN OWNER_TESTE.PEDIDOCAB.DTEMISSAO IS 'Data emissão';
COMMENT ON COLUMN OWNER_TESTE.PEDIDOCAB.NUMERO IS 'Número';
COMMENT ON COLUMN OWNER_TESTE.PEDIDOCAB.CLIENTE IS 'Cliente';
CREATE PUBLIC SYNONYM PEDIDOCAB for OWNER_TESTE.PEDIDOCAB;


CREATE TABLE OWNER_TESTE.PEDIDOITEM
(
  IDPEDIDOITEM INTEGER NOT NULL,
  IDPEDIDOCAB INTEGER NOT NULL,
  IDITEM INTEGER NOT NULL,
  QUANTIDADE NUMBER(10,2),
  VALORUNIT NUMBER(10,2),
  VALORTOTAL NUMBER(15,2)
);
COMMENT ON COLUMN OWNER_TESTE.PEDIDOITEM.IDPEDIDOITEM IS 'ID Pedido Item';
COMMENT ON COLUMN OWNER_TESTE.PEDIDOITEM.IDPEDIDOCAB IS 'ID Pedido Cabecalho';
COMMENT ON COLUMN OWNER_TESTE.PEDIDOITEM.IDITEM IS 'Código Item';
COMMENT ON COLUMN OWNER_TESTE.PEDIDOITEM.QUANTIDADE IS 'Quantidade';
COMMENT ON COLUMN OWNER_TESTE.PEDIDOITEM.VALORUNIT IS 'Valor unitário do Item';
COMMENT ON COLUMN OWNER_TESTE.PEDIDOITEM.VALORTOTAL IS 'Valor total do Item';
CREATE PUBLIC SYNONYM PEDIDOITEM for OWNER_TESTE.PEDIDOITEM;


ALTER TABLE OWNER_TESTE.ITEM 
       ADD CONSTRAINT PK_ITEM PRIMARY KEY (IDITEM);

ALTER TABLE OWNER_TESTE.PEDIDOCAB 
       ADD CONSTRAINT PK_PEDIDOCAB PRIMARY KEY (IDPEDIDOCAB);

ALTER TABLE OWNER_TESTE.PEDIDOITEM 
       ADD CONSTRAINT PK_PEDIDOITEM PRIMARY KEY (IDPEDIDOITEM);


ALTER TABLE OWNER_TESTE.PEDIDOITEM
       ADD  ( CONSTRAINT FK_PEDIDOITEM_1     
              FOREIGN KEY (IDPEDIDOCAB)
                             REFERENCES PEDIDOCAB(IDPEDIDOCAB) ) ;
ALTER TABLE OWNER_TESTE.PEDIDOITEM
       ADD  ( CONSTRAINT FK_PEDIDOITEM_2      
              FOREIGN KEY (IDITEM)
                             REFERENCES ITEM(IDITEM) ) ;
